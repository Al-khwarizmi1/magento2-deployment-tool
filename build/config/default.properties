# -------------------------------------------------------------------------------
# Server Directories
# -------------------------------------------------------------------------------
# Server home directory
server.home.dir=${application.startdir}/..

# Live project dir (vhost Documentroot)
server.live.dir=${server.home.dir}/public_html

# Directory where versions released versions are placed
server.releases.dir=${server.home.dir}/releases

# static directory where static data is saved
server.static.dir=${server.home.dir}/static

# -------------------------------------------------------------------------------
# Deployment Directories
# -------------------------------------------------------------------------------

# specify working folders inside deployment tool folder
server.backup.dir=${application.startdir}/backup

# -------------------------------------------------------------------------------
# Deployment Settings
# -------------------------------------------------------------------------------
# command to get the new package version
command.get.project.version=git clone --depth 1 --branch ${release.version} ${git.project.repo} ${release.target}

# command to get the new SNAPSHOT package version
command.get.project.snapshot=git clone --depth 1 --branch develop ${git.project.repo} ${release.target}

# command to build the new version downloaded
command.build.project.version=composer install --no-dev

# command to build the new version downloaded
command.build.project.snapshot=composer install

# command for setting the right permissions on the deployed package
command.permissions=find var vendor pub/static pub/media app/etc -type f -exec chmod g+w {} \; && find var vendor pub/static pub/media app/etc -type d -exec chmod g+w {} \; && chmod u+x bin/magento

# -------------------------------------------------------------------------------
# Project Package Settings
# -------------------------------------------------------------------------------

# Magento installation dir (relative path from project root)
magento.dir=magento

# -------------------------------------------------------------------------------
# Template Files
# -------------------------------------------------------------------------------
template.env.php=${application.startdir}/config/env.php

#------------------------------------------------------------------------------------------
# Binaries Settings
#------------------------------------------------------------------------------------------
# Composer bin dir (relative path from project root)
bin.dir=bin

# Magerun98 command base
bin.magerun98=${bin.dir}/n98-magerun2 --root-dir=${magento.dir}

# -------------------------------------------------------------------------------
# Maintenance Page Settings
# -------------------------------------------------------------------------------
# maintenance page path
maintenance.path=${application.startdir}/config/maintenance

# the command to be issued to start maintenance window
maintenance.set.command=unlink ${server.live.dir} && ln -sf ${maintenance.path} ${server.live.dir}

# -------------------------------------------------------------------------------
# Custom Scripts
# -------------------------------------------------------------------------------
custom.post-script.path=${application.startdir}/scripts/post-release-scripts.sh

# -------------------------------------------------------------------------------
# Release History
# -------------------------------------------------------------------------------
# specify the number of old releases to keep on the server. (0 = keeps all releases)
releases.keep=3

# specify the number of old database backups to keep on the server. (0 = keeps all backups)
backup.keep=3
